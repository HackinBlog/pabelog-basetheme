{"version":3,"sources":["rewrite_clj/node/keyword.cljs"],"sourcesContent":["(ns rewrite-clj.node.keyword\n  (:require [rewrite-clj.node.protocols :as node]))\n\n;; ## Node\n\n(defrecord KeywordNode [k namespaced?]\n  node/Node\n  (tag [_] :token)\n  (printable-only? [_] false)\n  (sexpr [_]\n    (if (and namespaced?\n             (not (namespace k)))\n;;       (keyword\n;;         (name (ns-name *ns*))\n;;         (name k))\n      (throw (js/Error. \"Namespaced keywords not supported !\"))\n      k))\n  (length [this]\n    (let [c (inc (count (name k)))]\n      (if namespaced?\n        (inc c)\n        (if-let [nspace (namespace k)]\n          (+ 1 c (count nspace))\n          c))))\n  (string [_]\n    (let [v (pr-str k)]\n      (if namespaced?\n        (str \":\" v)\n        v)))\n\n  Object\n  (toString [this]\n    (node/string this)))\n\n\n\n\n;; TODO\n;;(node/make-printable! KeywordNode)\n\n;; ## Constructor\n\n(defn keyword-node\n  \"Create node representing a keyword. If `namespaced?` is given as `true`\n   a keyword \u00e0 la `::x` or `::ns/x` (i.e. namespaced/aliased) is generated.\"\n  [k & [namespaced?]]\n  {:pre [(keyword? k)]}\n  (->KeywordNode k namespaced?))\n"],"mappings":"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","names":["this__4301__auto__","k__4302__auto__","k19719","G__19724","cljs.core/Keyword","k","namespaced?","cljs.core.get.cljs$core$IFn$_invoke$arity$3","__extmap","else__4304__auto__","cljs.core.reduce.cljs$core$IFn$_invoke$arity$3","p__19725","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","vec__19726","f__4321__auto__","ret__4323__auto__","k__4324__auto__","v__4325__auto__","init__4322__auto__","this__4320__auto__","cljs.core/pr-sequential-writer","writer__4316__auto__","opts__4317__auto__","keyval__4319__auto__","pr-pair__4318__auto__","cljs.core.concat.cljs$core$IFn$_invoke$arity$2","cljs.core/PersistentVector","cljs.core/RecordIter","G__19718","cljs.core/-iterator","cljs.core/nil-iter","__meta","__hash","cljs.core/count","h__4159__auto__","cljs.core/hash-unordered-coll","coll__4298__auto__","fexpr__19732","this__4297__auto__","other19721","this19720","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core/PROTOCOL_SENTINEL","cljs.core/contains?","k__4311__auto__","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2","cljs.core/-with-meta","cljs.core.into.cljs$core$IFn$_invoke$arity$2","this__4310__auto__","cljs.core/not-empty","cljs.core/keyword-identical?","k__4309__auto__","expr__19736","pred__19735","G__19738","G__19739","G__19740","G__19741","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","cljs.core/seq","cljs.core/MapEntry","cljs.core/vector?","entry__4307__auto__","this__4306__auto__","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core/-conj","rewrite-clj.node.keyword/KeywordNode","cljs.core/List","cljs.core/-write","writer__4345__auto__","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic","G__19722","cljs.core/record?","G__19744","extmap__4340__auto__","rewrite-clj.node.keyword/->KeywordNode","rewrite-clj.node.keyword/map->KeywordNode","and__4036__auto__","cljs.core/not","cljs.core/namespace","js/Error","cljs.core/name","c","temp__5455__auto__","nspace","cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic","v","this","i__4642__auto__","len__4641__auto__","args__4647__auto__","cljs.core/IndexedSeq","rewrite-clj.node.keyword/keyword-node","argseq__4648__auto__","p__19750","vec__19751","cljs.core/first","seq19745","cljs.core/next","self__4628__auto__","G__19746"]}